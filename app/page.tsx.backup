"use client"

import { useState, useEffect, useRef } from "react"
import Link from "next/link"
import { Button } from "@/components/ui/button"
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card"
import {
  Zap,
  BarChart3,
  Globe,
  CreditCard,
  Package,
  Users,
  CheckCircle2,
  ArrowRight,
  Sparkles,
  Store,
  Smartphone,
  Star,
  Play,
  CheckCircle,
  Clock,
  Shield,
  TrendingUp,
} from "lucide-react"
import Image from "next/image"

// CSS Animations במקום Framer Motion - חוסך 50MB!
const animations = `
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes scaleIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
  }
  @keyframes slideInRight {
    from { opacity: 0; transform: translateX(50px); }
    to { opacity: 1; transform: translateX(0); }
  }
  .animate-fade-in { animation: fadeIn 0.6s ease-out forwards; }
  .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }
  .animate-scale-in { animation: scaleIn 0.5s ease-out forwards; }
  .animate-slide-in-right { animation: slideInRight 0.6s ease-out forwards; }
  .hover-scale { transition: transform 0.2s ease; }
  .hover-scale:hover { transform: scale(1.05); }
  .hover-scale:active { transform: scale(0.95); }
`

export default function LandingPage() {
  const [email, setEmail] = useState("")
  const [currentTextIndex, setCurrentTextIndex] = useState(0)
  
  const rotatingTexts = ["תוך דקות", "בקלות", "במהירות", "בלי קוד"]
  
  useEffect(() => {
    const interval = setInterval(() => {
      setCurrentTextIndex((prev) => (prev + 1) % rotatingTexts.length)
    }, 3000)
    
    return () => clearInterval(interval)
  }, [rotatingTexts.length])

  const handleEmailSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    window.location.href = `/register?email=${encodeURIComponent(email)}`
  }

  const features = [
    {
      icon: Zap,
      title: "הקמה תוך דקות",
      description: "צור חנות אונליין מקצועית תוך דקות ספורות ללא צורך בידע טכני",
    },
    {
      icon: Store,
      title: "עיצוב מותאם אישית",
      description: "בחר מתוך תבניות מקצועיות והתאם את העיצוב למותג שלך",
    },
    {
      icon: Package,
      title: "ניהול מוצרים קל",
      description: "הוסף, ערוך ונהל מוצרים בקלות עם ממשק אינטואיטיבי",
    },
    {
      icon: CreditCard,
      title: "תשלומים מאובטחים",
      description: "קבל תשלומים דרך PayPlus, Stripe ועוד - מאובטח ומהיר",
    },
    {
      icon: BarChart3,
      title: "דוחות ואנליטיקה",
      description: "עקוב אחר מכירות, לקוחות והכנסות עם דוחות מפורטים",
    },
    {
      icon: Globe,
      title: "תמיכה בעברית מלאה",
      description: "מערכת בעברית עם תמיכה מלאה ב-RTL ובעיצוב מקומי",
    },
    {
      icon: Smartphone,
      title: "רספונסיבי מלא",
      description: "החנות שלך נראית מושלמת בכל מכשיר - מובייל, טאבלט ומחשב",
    },
    {
      icon: Users,
      title: "ניהול לקוחות",
      description: "נהל את הלקוחות שלך, הזמנות והיסטוריית רכישות במקום אחד",
    },
  ]

  const pricingPlans = [
    {
      name: "תדמית",
      price: "299₪",
      period: "לחודש",
      description: "מושלם לאתרי תדמית",
      features: [
        "בניית אתר תדמיתי",
        "דפים סטטיים",
        "בלוג מלא",
        "עיצוב מותאם אישית",
        "תמיכה טכנית",
      ],
      cta: "בחר תכנית",
      highlight: false,
    },
    {
      name: "קוויק שופ",
      price: "399₪",
      period: "לחודש",
      description: "הפתרון המלא לחנויות אונליין",
      features: [
        "כל התכונות של תדמית",
        "חנות אונליין מלאה",
        "עגלת קניות ותשלומים",
        "ניהול הזמנות",
        "ניהול מלאי",
        "קופונים והנחות",
        "כרטיסי מתנה",
        "עגלות נטושות",
        "דוחות מתקדמים",
        "+ 0.5% מכל עסקה",
      ],
      cta: "בחר תכנית",
      highlight: true,
    },
  ]

  const faqs = [
    {
      question: "איך מתחילים?",
      answer: "פשוט הירשם בחינם ותקבל 7 ימי נסיון מלא. אין צורך בפרטי אשראי - רק שם, אימייל וסיסמה.",
    },
    {
      question: "מה קורה אחרי תקופת הנסיון?",
      answer: "אחרי 7 ימים תוכל לבחור תכנית מנוי שמתאימה לך. אם לא תבחר, החנות תישאר פעילה עד שתחליט.",
    },
    {
      question: "האם צריך ידע טכני?",
      answer: "לא! המערכת מיועדת לכל אחד. ממשק פשוט ואינטואיטיבי שמאפשר לך ליצור חנות מקצועית ללא קוד.",
    },
    {
      question: "איך מקבלים תשלומים?",
      answer: "המערכת תומכת בתשלומים דרך PayPlus, Stripe ועוד. כל התשלומים מאובטחים ומעובדים בצורה בטוחה.",
    },
    {
      question: "האם יש תמיכה טכנית?",
      answer: "כן! אנחנו כאן לעזור לך בכל שלב. תמיכה טכנית זמינה בדואל ובצ'אט.",
    },
    {
      question: "האם אפשר לשנות תכנית?",
      answer: "כן, אתה יכול לשדרג או להוריד תכנית בכל עת. השינויים ייכנסו לתוקף מיד.",
    },
  ]

  // Animation variants
  const fadeInUp = {
    hidden: { opacity: 0, y: 60 },
    visible: { opacity: 1, y: 0, transition: { duration: 0.8, ease: [0.6, -0.05, 0.01, 0.99] } },
  }

  const staggerContainer = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.1,
        delayChildren: 0.2,
      },
    },
  }

  const scaleIn = {
    hidden: { opacity: 0, scale: 0.8 },
    visible: { opacity: 1, scale: 1, transition: { duration: 0.6, ease: [0.6, -0.05, 0.01, 0.99] } },
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-[#f7f9fe] via-white to-[#f7f9fe]">
      {/* Header */}
      <motion.header
        initial={{ y: -100, opacity: 0 }}
        animate={{ y: 0, opacity: 1 }}
        transition={{ duration: 0.6, ease: [0.6, -0.05, 0.01, 0.99] }}
        className="sticky top-0 z-50 w-full border-b bg-white/80 backdrop-blur-sm overflow-visible"
      >
        <div className="container mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex h-16 items-center justify-between">
            <div className="flex items-center space-x-4 space-x-reverse overflow-visible">
              <motion.h1
                whileHover={{ scale: 1.05 }}
                className="text-2xl font-pacifico prodify-gradient-text whitespace-nowrap overflow-visible"
                style={{ letterSpacing: '2px', lineHeight: '1.5' }}
              >
                Quick Shop
              </motion.h1>
            </div>
            <div className="flex items-center space-x-4 space-x-reverse">
              <Link href="/login">
                <Button variant="ghost" className="hidden sm:inline-flex">
                  התחברות
                </Button>
              </Link>
              <Link href="/register">
                <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                  <Button className="prodify-gradient hover:opacity-90">
                    התחל חינם
                  </Button>
                </motion.div>
              </Link>
            </div>
          </div>
        </div>
      </motion.header>

      {/* Hero Section */}
      <HeroSection 
        onEmailSubmit={handleEmailSubmit} 
        email={email} 
        setEmail={setEmail}
        rotatingTexts={rotatingTexts}
        currentTextIndex={currentTextIndex}
      />

      {/* Features Section */}
      <FeaturesSection features={features} />

      {/* CTA 1 */}
      <MiniCTASection />

      {/* How It Works Section */}
      <HowItWorksSection />

      {/* CTA 2 */}
      <MiniCTASection />

      {/* Testimonials Section */}
      <TestimonialsSection />

      {/* CTA 3 */}
      <MiniCTASection />

      {/* Gallery/Examples Section */}
      <GallerySection />

      {/* Pricing Section */}
      <PricingSection pricingPlans={pricingPlans} />

      {/* CTA Section */}
      <CTASection onEmailSubmit={handleEmailSubmit} email={email} setEmail={setEmail} />

      {/* FAQ Section */}
      <FAQSection faqs={faqs} />

      {/* Footer */}
      <Footer />
    </div>
  )
}

// Hero Section Component
function HeroSection({
  onEmailSubmit,
  email,
  setEmail,
  rotatingTexts,
  currentTextIndex,
}: {
  onEmailSubmit: (e: React.FormEvent) => void
  email: string
  setEmail: (value: string) => void
  rotatingTexts: string[]
  currentTextIndex: number
}) {
  const { scrollY } = useScroll()
  const y = useTransform(scrollY, [0, 500], [0, 150])
  const opacity = useTransform(scrollY, [0, 300], [1, 0])

  return (
    <section className="relative overflow-hidden py-20 sm:py-32">
      <motion.div
        style={{ y, opacity }}
        className="container mx-auto px-4 sm:px-6 lg:px-8"
      >
        <motion.div
          initial="hidden"
          animate="visible"
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.2,
                delayChildren: 0.3,
              },
            },
          }}
          className="mx-auto max-w-4xl text-center"
        >
          <motion.div
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6 } },
            }}
            className="mb-8 inline-flex items-center rounded-full border bg-white px-4 py-2 text-sm shadow-sm"
          >
            <Sparkles className="ml-2 h-4 w-4 text-purple-600" />
            <span className="text-gray-700">7 ימי נסיון חינם - ללא צורך באשראי</span>
          </motion.div>
          <motion.h1
            variants={{
              hidden: { opacity: 0, y: 40 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.8, ease: [0.6, -0.05, 0.01, 0.99] } },
            }}
            className="mb-6 text-5xl font-bold tracking-tight text-gray-900 sm:text-6xl lg:text-7xl"
          >
            צור את חנות האונליין שלך
            <br />
            <span style={{ display: "inline-block", minWidth: "200px", textAlign: "right" }}>
              <AnimatePresence mode="wait">
                <motion.span
                  key={currentTextIndex}
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  exit={{ opacity: 0, y: -20 }}
                  transition={{ duration: 0.5 }}
                  style={{
                    background: "linear-gradient(to left, #93f0e1, #6374c5)",
                    WebkitBackgroundClip: "text",
                    WebkitTextFillColor: "transparent",
                    backgroundClip: "text",
                    display: "inline-block",
                  }}
                >
                  {rotatingTexts[currentTextIndex]}
                </motion.span>
              </AnimatePresence>
            </span>
          </motion.h1>
          <motion.p
            variants={{
              hidden: { opacity: 0, y: 30 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.8, delay: 0.2 } },
            }}
            className="mb-10 text-xl text-gray-600 sm:text-2xl"
          >
            פלטפורמה מקצועית ליצירה וניהול חנויות אונליין. כל מה שצריך כדי להתחיל למכור אונליין במקום אחד.
          </motion.p>
          <motion.div
            variants={{
              hidden: { opacity: 0, y: 30 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.8, delay: 0.4 } },
            }}
            className="flex flex-col items-center justify-center gap-4 sm:flex-row"
          >
            <Link href="/register">
              <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                <Button
                  size="lg"
                  className="h-14 prodify-gradient px-8 text-lg hover:opacity-90"
                >
                  התחל עכשיו - חינם
                  <ArrowRight className="mr-2 h-5 w-5" />
                </Button>
              </motion.div>
            </Link>
            <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
              <Button size="lg" variant="outline" className="h-14 px-8 text-lg">
                צפה בדמו
              </Button>
            </motion.div>
          </motion.div>
          <motion.p
            variants={{
              hidden: { opacity: 0 },
              visible: { opacity: 1, transition: { duration: 0.8, delay: 0.6 } },
            }}
            className="mt-6 text-sm text-gray-500"
          >
            אין צורך בפרטי אשראי • ביטול בכל עת • תמיכה 24/7
          </motion.p>
        </motion.div>
      </motion.div>

      {/* Background decoration with parallax */}
      <motion.div
        className="absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl"
      >
        <div
          className="relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#6f65e2] to-[#b965e2] opacity-20"
          style={{
            clipPath:
              "polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)",
          }}
        />
      </motion.div>
    </section>
  )
}

// Features Section Component
function FeaturesSection({ features }: { features: Array<{ icon: any; title: string; description: string }> }) {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-100px" })

  return (
    <section className="py-20 sm:py-32">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <motion.div
          ref={ref}
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.1,
                delayChildren: 0.2,
              },
            },
          }}
          className="mx-auto max-w-2xl text-center"
        >
          <motion.h2
            variants={{
              hidden: { opacity: 0, y: 30 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6 } },
            }}
            className="text-4xl font-bold sm:text-5xl"
            style={{
              background: "linear-gradient(to left, #93f0e1, #6374c5)",
              WebkitBackgroundClip: "text",
              WebkitTextFillColor: "transparent",
              backgroundClip: "text",
            }}
          >
            כל מה שצריך כדי להתחיל למכור
          </motion.h2>
          <motion.p
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.1 } },
            }}
            className="mt-4 text-lg text-gray-600"
          >
            פלטפורמה מלאה עם כל הכלים לניהול חנות אונליין מקצועית
          </motion.p>
        </motion.div>
        <motion.div
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.1,
                delayChildren: 0.4,
              },
            },
          }}
          className="mx-auto mt-16 grid max-w-5xl grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4"
        >
          {features.map((feature, index) => (
            <FeatureCard key={index} feature={feature} index={index} />
          ))}
        </motion.div>
      </div>
    </section>
  )
}

function FeatureCard({ feature, index }: { feature: { icon: any; title: string; description: string }; index: number }) {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-50px" })

  return (
    <motion.div
      ref={ref}
      initial="hidden"
      animate={isInView ? "visible" : "hidden"}
      variants={{
        hidden: { opacity: 0, y: 50, scale: 0.9 },
        visible: {
          opacity: 1,
          y: 0,
          scale: 1,
          transition: {
            duration: 0.6,
            delay: index * 0.1,
            ease: [0.6, -0.05, 0.01, 0.99],
          },
        },
      }}
    >
      <motion.div
        whileHover={{ y: -10, scale: 1.02 }}
        transition={{ duration: 0.3 }}
      >
        <Card className="border-gray-200 transition-all hover:shadow-xl">
          <CardHeader>
            <motion.div
              className="mb-4 inline-flex h-12 w-12 items-center justify-center rounded-lg prodify-gradient"
              whileHover={{ rotate: [0, -10, 10, -10, 0], transition: { duration: 0.5 } }}
            >
              <feature.icon className="h-6 w-6 text-white" />
            </motion.div>
            <CardTitle className="text-xl">{feature.title}</CardTitle>
          </CardHeader>
          <CardContent>
            <CardDescription className="text-base">{feature.description}</CardDescription>
          </CardContent>
        </Card>
      </motion.div>
    </motion.div>
  )
}

// Pricing Section Component
function PricingSection({ pricingPlans }: { pricingPlans: Array<{ name: string; price: string; period: string; description: string; features: string[]; cta: string; highlight: boolean }> }) {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-100px" })

  return (
    <section className="bg-white py-20 sm:py-32">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <motion.div
          ref={ref}
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.1,
                delayChildren: 0.2,
              },
            },
          }}
          className="mx-auto max-w-2xl text-center"
        >
          <motion.h2
            variants={{
              hidden: { opacity: 0, y: 30 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6 } },
            }}
            className="text-4xl font-bold sm:text-5xl"
            style={{
              background: "linear-gradient(to left, #93f0e1, #6374c5)",
              WebkitBackgroundClip: "text",
              WebkitTextFillColor: "transparent",
              backgroundClip: "text",
            }}
          >
            תכניות מחיר
          </motion.h2>
          <motion.p
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.1 } },
            }}
            className="mt-4 text-lg text-gray-600"
          >
            בחר את התכנית שמתאימה לך. כל התכניות כוללות 7 ימי נסיון חינם. אתה יכול לשנות בכל עת.
          </motion.p>
        </motion.div>
        <motion.div
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.15,
                delayChildren: 0.4,
              },
            },
          }}
          className="mx-auto mt-16 grid max-w-4xl grid-cols-1 gap-8 lg:grid-cols-2"
        >
          {pricingPlans.map((plan, index) => (
            <PricingCard key={index} plan={plan} index={index} />
          ))}
        </motion.div>
      </div>
    </section>
  )
}

function PricingCard({ plan, index }: { plan: { name: string; price: string; period: string; description: string; features: string[]; cta: string; highlight: boolean }; index: number }) {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-50px" })

  return (
    <motion.div
      ref={ref}
      initial="hidden"
      animate={isInView ? "visible" : "hidden"}
      variants={{
        hidden: { opacity: 0, y: 50, scale: 0.9 },
        visible: {
          opacity: 1,
          y: 0,
          scale: 1,
          transition: {
            duration: 0.6,
            delay: index * 0.15,
            ease: [0.6, -0.05, 0.01, 0.99],
          },
        },
      }}
    >
      <motion.div
        whileHover={{ y: -10, scale: plan.highlight ? 1.05 : 1.02 }}
        transition={{ duration: 0.3 }}
      >
        <Card
          className={`relative border-2 transition-all hover:shadow-xl ${
            plan.highlight ? "border-purple-500 shadow-lg lg:scale-105" : "border-gray-200"
          }`}
        >
          {plan.highlight && (
            <motion.div
              initial={{ scale: 0 }}
              animate={{ scale: 1 }}
              transition={{ delay: 0.5, type: "spring", stiffness: 200 }}
              className="absolute -top-4 left-1/2 -translate-x-1/2"
            >
              <span className="rounded-full prodify-gradient px-4 py-1 text-sm font-semibold text-white">
                מומלץ
              </span>
            </motion.div>
          )}
          <CardHeader className="text-center">
            <CardTitle className="text-2xl">{plan.name}</CardTitle>
            <div className="mt-4">
              <span className="text-4xl font-bold text-gray-900">{plan.price}</span>
              {plan.period && <span className="text-gray-600"> / {plan.period}</span>}
            </div>
            <CardDescription className="mt-2 text-base">{plan.description}</CardDescription>
          </CardHeader>
          <CardContent>
            <ul className="space-y-4">
              {plan.features.map((feature, featureIndex) => (
                <motion.li
                  key={featureIndex}
                  initial={{ opacity: 0, x: -20 }}
                  animate={isInView ? { opacity: 1, x: 0 } : { opacity: 0, x: -20 }}
                  transition={{ delay: 0.6 + featureIndex * 0.05 }}
                  className="flex items-start"
                >
                  <CheckCircle2 className="ml-3 h-5 w-5 flex-shrink-0 text-green-500" />
                  <span className="text-gray-700">{feature}</span>
                </motion.li>
              ))}
            </ul>
            <Link href="/register" className="mt-8 block">
              <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                <Button
                  className={`w-full ${plan.highlight ? "prodify-gradient hover:opacity-90" : ""}`}
                  variant={plan.highlight ? "default" : "outline"}
                >
                  {plan.cta}
                </Button>
              </motion.div>
            </Link>
          </CardContent>
        </Card>
      </motion.div>
    </motion.div>
  )
}

// CTA Section Component
function CTASection({
  onEmailSubmit,
  email,
  setEmail,
}: {
  onEmailSubmit: (e: React.FormEvent) => void
  email: string
  setEmail: (value: string) => void
}) {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-100px" })

  return (
    <section className="bg-gradient-to-br from-purple-600 via-purple-700 to-purple-800 py-20 sm:py-32">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <motion.div
          ref={ref}
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.2,
                delayChildren: 0.2,
              },
            },
          }}
          className="mx-auto max-w-3xl text-center"
        >
          <motion.h2
            variants={{
              hidden: { opacity: 0, y: 30 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6 } },
            }}
            className="text-4xl font-bold text-white sm:text-5xl"
          >
            מוכן להתחיל למכור אונליין?
          </motion.h2>
          <motion.p
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.1 } },
            }}
            className="mt-4 text-xl text-purple-100"
          >
            הצטרף לאלפי בעלי עסקים שכבר משתמשים ב-Quick Shop
          </motion.p>
          <motion.form
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.2 } },
            }}
            onSubmit={onEmailSubmit}
            className="mt-10 flex flex-col gap-4 sm:flex-row sm:justify-center"
          >
            <motion.input
              whileFocus={{ scale: 1.02 }}
              type="email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              placeholder="הזן את האימייל שלך"
              required
              className="h-14 flex-1 rounded-lg border-0 px-6 text-lg text-gray-900 shadow-lg focus:ring-2 focus:ring-white sm:max-w-md"
            />
            <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
              <Button
                type="submit"
                size="lg"
                className="h-14 bg-white px-8 text-lg text-purple-600 hover:bg-gray-100"
              >
                התחל חינם
                <ArrowRight className="mr-2 h-5 w-5" />
              </Button>
            </motion.div>
          </motion.form>
          <motion.p
            variants={{
              hidden: { opacity: 0 },
              visible: { opacity: 1, transition: { duration: 0.6, delay: 0.4 } },
            }}
            className="mt-6 text-sm text-purple-200"
          >
            אין צורך בפרטי אשראי • 7 ימי נסיון חינם • ביטול בכל עת
          </motion.p>
        </motion.div>
      </div>
    </section>
  )
}

// FAQ Section Component
function FAQSection({ faqs }: { faqs: Array<{ question: string; answer: string }> }) {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-100px" })

  return (
    <section className="py-20 sm:py-32">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <motion.div
          ref={ref}
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.1,
                delayChildren: 0.2,
              },
            },
          }}
          className="mx-auto max-w-3xl"
        >
          <motion.div
            variants={{
              hidden: { opacity: 0, y: 30 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6 } },
            }}
            className="text-center"
          >
            <h2 
              className="text-4xl font-bold sm:text-5xl"
              style={{
                background: "linear-gradient(to left, #93f0e1, #6374c5)",
                WebkitBackgroundClip: "text",
                WebkitTextFillColor: "transparent",
                backgroundClip: "text",
              }}
            >
              שאלות נפוצות
            </h2>
            <p className="mt-4 text-lg text-gray-600">כל מה שרצית לדעת על Quick Shop</p>
          </motion.div>
          <motion.div
            variants={{
              hidden: { opacity: 0 },
              visible: {
                opacity: 1,
                transition: {
                  staggerChildren: 0.1,
                  delayChildren: 0.4,
                },
              },
            }}
            className="mt-16 space-y-6"
          >
            {faqs.map((faq, index) => (
              <FAQCard key={index} faq={faq} index={index} />
            ))}
          </motion.div>
        </motion.div>
      </div>
    </section>
  )
}

function FAQCard({ faq, index }: { faq: { question: string; answer: string }; index: number }) {
  const [isOpen, setIsOpen] = useState(false)
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-50px" })

  return (
    <motion.div
      ref={ref}
      initial="hidden"
      animate={isInView ? "visible" : "hidden"}
      variants={{
        hidden: { opacity: 0, y: 30 },
        visible: {
          opacity: 1,
          y: 0,
          transition: {
            duration: 0.6,
            delay: index * 0.1,
          },
        },
      }}
    >
      <motion.div
        whileHover={{ scale: 1.01 }}
        transition={{ duration: 0.2 }}
      >
        <Card
          className="border-gray-200 cursor-pointer transition-all hover:shadow-lg"
          onClick={() => setIsOpen(!isOpen)}
        >
          <CardHeader>
            <CardTitle className="text-xl">{faq.question}</CardTitle>
          </CardHeader>
          <motion.div
            initial={false}
            animate={{ height: isOpen ? "auto" : 0, opacity: isOpen ? 1 : 0 }}
            transition={{ duration: 0.3 }}
            style={{ overflow: "hidden" }}
          >
            <CardContent>
              <CardDescription className="text-base">{faq.answer}</CardDescription>
            </CardContent>
          </motion.div>
        </Card>
      </motion.div>
    </motion.div>
  )
}

// Mini CTA Section Component
function MiniCTASection() {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-50px" })
  
  // רשימת תמונות רקע שונות לכל CTA
  const backgroundImages = [
    "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&q=80",
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1920&q=80",
    "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1920&q=80",
  ]
  
  // שימוש ב-state כדי להחליף תמונות
  const [imageIndex] = useState(Math.floor(Math.random() * backgroundImages.length))

  return (
    <section className="relative py-20 sm:py-24 overflow-hidden" ref={ref}>
      {/* Background Image */}
      <div className="absolute inset-0 z-0">
        <Image
          src={backgroundImages[imageIndex]}
          alt="Background"
          fill
          className="object-cover"
          sizes="100vw"
          priority={false}
        />
        {/* Dark Overlay */}
        <div className="absolute inset-0 bg-black/60" />
        {/* Gradient Overlay */}
        <div className="absolute inset-0 bg-gradient-to-br from-purple-900/40 via-black/50 to-purple-900/40" />
      </div>
      
      {/* Content */}
      <div className="relative z-10 container mx-auto px-4 sm:px-6 lg:px-8">
        <motion.div
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0, y: 20 },
            visible: {
              opacity: 1,
              y: 0,
              transition: { duration: 0.6 },
            },
          }}
          className="text-center space-y-6"
        >
          <motion.h2
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.1 } },
            }}
            className="text-3xl sm:text-4xl font-bold text-white"
          >
            מוכן להתחיל?
          </motion.h2>
          <motion.p
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.2 } },
            }}
            className="text-lg sm:text-xl text-white/90 max-w-2xl mx-auto"
          >
            הצטרף לאלפי בעלי עסקים שכבר משתמשים ב-Quick Shop
          </motion.p>
          <motion.div
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.3 } },
            }}
          >
            <Link href="/register">
              <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>
                <Button
                  size="lg"
                  className="prodify-gradient hover:opacity-90 px-8 text-lg h-14 text-white shadow-xl"
                >
                  התחל עכשיו - חינם
                  <ArrowRight className="mr-2 h-5 w-5" />
                </Button>
              </motion.div>
            </Link>
          </motion.div>
        </motion.div>
      </div>
    </section>
  )
}

// How It Works Section Component
function HowItWorksSection() {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-100px" })

  const steps = [
    {
      number: "01",
      title: "הירשם בחינם",
      description: "צור חשבון תוך דקות ללא צורך בפרטי אשראי. קבל 7 ימי נסיון מלא.",
      icon: CheckCircle,
      image: "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&q=80",
    },
    {
      number: "02",
      title: "צור את החנות שלך",
      description: "בחר תבנית, הוסף את הלוגו והצבעים שלך והתאם את העיצוב למותג שלך.",
      icon: Store,
      image: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&q=80",
    },
    {
      number: "03",
      title: "הוסף מוצרים",
      description: "העלה תמונות, כתוב תיאורים, הגדר מחירים וניהול מלאי בקלות.",
      icon: Package,
      image: "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&q=80",
    },
    {
      number: "04",
      title: "התחל למכור",
      description: "פרסם את החנות שלך והתחל לקבל הזמנות. כל התשלומים מאובטחים.",
      icon: TrendingUp,
      image: "https://images.unsplash.com/photo-1556740758-90de374c12ad?w=800&q=80",
    },
  ]

  return (
    <section className="py-20 sm:py-32 bg-white">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <motion.div
          ref={ref}
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.1,
                delayChildren: 0.2,
              },
            },
          }}
          className="mx-auto max-w-2xl text-center mb-16"
        >
          <motion.h2
            variants={{
              hidden: { opacity: 0, y: 30 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6 } },
            }}
            className="text-4xl font-bold sm:text-5xl mb-4"
            style={{
              background: "linear-gradient(to left, #93f0e1, #6374c5)",
              WebkitBackgroundClip: "text",
              WebkitTextFillColor: "transparent",
              backgroundClip: "text",
            }}
          >
            איך זה עובד?
          </motion.h2>
          <motion.p
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.1 } },
            }}
            className="text-lg text-gray-600"
          >
            4 שלבים פשוטים להתחיל למכור אונליין
          </motion.p>
        </motion.div>

        <div className="mx-auto max-w-6xl space-y-16">
          {steps.map((step, index) => (
            <StepCard key={index} step={step} index={index} isInView={isInView} />
          ))}
        </div>
      </div>
    </section>
  )
}

function StepCard({
  step,
  index,
  isInView,
}: {
  step: { number: string; title: string; description: string; icon: any; image: string }
  index: number
  isInView: boolean
}) {
  const ref = useRef(null)
  const cardInView = useInView(ref, { once: true, margin: "-100px" })
  const Icon = step.icon

  return (
    <motion.div
      ref={ref}
      initial="hidden"
      animate={cardInView ? "visible" : "hidden"}
      variants={{
        hidden: { opacity: 0, x: index % 2 === 0 ? -50 : 50 },
        visible: {
          opacity: 1,
          x: 0,
          transition: {
            duration: 0.6,
            delay: index * 0.2,
          },
        },
      }}
      className={`flex flex-col ${index % 2 === 0 ? "lg:flex-row" : "lg:flex-row-reverse"} items-center gap-8`}
    >
      <div className="flex-1">
        <motion.div
          initial={{ scale: 0 }}
          animate={cardInView ? { scale: 1 } : { scale: 0 }}
          transition={{ delay: index * 0.2 + 0.3, type: "spring", stiffness: 200 }}
          className="relative w-full h-64 rounded-2xl overflow-hidden shadow-xl"
        >
          <Image
            src={step.image}
            alt={step.title}
            fill
            className="object-cover"
            sizes="(max-width: 768px) 100vw, 50vw"
          />
          <div className="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent" />
        </motion.div>
      </div>
      <div className="flex-1 space-y-4">
        <div className="flex items-center gap-4">
          <motion.div
            initial={{ scale: 0 }}
            animate={cardInView ? { scale: 1 } : { scale: 0 }}
            transition={{ delay: index * 0.2 + 0.4, type: "spring", stiffness: 200 }}
            className="w-16 h-16 rounded-full prodify-gradient flex items-center justify-center"
          >
            <Icon className="w-8 h-8 text-white" />
          </motion.div>
          <div>
            <div className="text-sm font-bold text-gray-400 mb-1">{step.number}</div>
            <h3 className="text-2xl font-bold text-gray-900">{step.title}</h3>
          </div>
        </div>
        <p className="text-lg text-gray-600 leading-relaxed">{step.description}</p>
      </div>
    </motion.div>
  )
}

// Testimonials Section Component
function TestimonialsSection() {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-100px" })

  const testimonials = [
    {
      name: "שרה כהן",
      role: "בעלת חנות בגדים",
      image: "https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&q=80",
      content: "Quick Shop שינה את העסק שלי! תוך שבוע כבר התחלתי למכור. המערכת כל כך קלה לשימוש.",
      rating: 5,
    },
    {
      name: "דוד לוי",
      role: "יזם טכנולוגיה",
      image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&q=80",
      content: "הפתרון הכי טוב שראיתי. כל מה שצריך במקום אחד - מוצרים, הזמנות, תשלומים. מושלם!",
      rating: 5,
    },
    {
      name: "מיכל רוזן",
      role: "בעלת חנות תכשיטים",
      image: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&q=80",
      content: "העיצוב מקצועי, הלקוחות אוהבים את החנות. המכירות עלו ב-300% תוך חודש!",
      rating: 5,
    },
  ]

  return (
    <section className="py-20 sm:py-32 bg-gradient-to-br from-[#f7f9fe] to-white">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <motion.div
          ref={ref}
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.1,
                delayChildren: 0.2,
              },
            },
          }}
          className="mx-auto max-w-2xl text-center mb-16"
        >
          <motion.h2
            variants={{
              hidden: { opacity: 0, y: 30 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6 } },
            }}
            className="text-4xl font-bold sm:text-5xl mb-4"
            style={{
              background: "linear-gradient(to left, #93f0e1, #6374c5)",
              WebkitBackgroundClip: "text",
              WebkitTextFillColor: "transparent",
              backgroundClip: "text",
            }}
          >
            מה אומרים הלקוחות שלנו
          </motion.h2>
          <motion.p
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.1 } },
            }}
            className="text-lg text-gray-600"
          >
            אלפי בעלי עסקים כבר משתמשים ב-Quick Shop
          </motion.p>
        </motion.div>

        <div className="mx-auto max-w-5xl grid grid-cols-1 md:grid-cols-3 gap-8">
          {testimonials.map((testimonial, index) => (
            <TestimonialCard key={index} testimonial={testimonial} index={index} isInView={isInView} />
          ))}
        </div>
      </div>
    </section>
  )
}

function TestimonialCard({
  testimonial,
  index,
  isInView,
}: {
  testimonial: { name: string; role: string; image: string; content: string; rating: number }
  index: number
  isInView: boolean
}) {
  const ref = useRef(null)
  const cardInView = useInView(ref, { once: true, margin: "-50px" })

  return (
    <motion.div
      ref={ref}
      initial="hidden"
      animate={cardInView ? "visible" : "hidden"}
      variants={{
        hidden: { opacity: 0, y: 50 },
        visible: {
          opacity: 1,
          y: 0,
          transition: {
            duration: 0.6,
            delay: index * 0.15,
          },
        },
      }}
    >
      <motion.div
        whileHover={{ y: -10, scale: 1.02 }}
        transition={{ duration: 0.3 }}
      >
        <Card className="h-full border-gray-200 shadow-sm hover:shadow-xl transition-shadow">
          <CardContent className="p-6">
            <div className="flex items-center gap-1 mb-4">
              {[...Array(testimonial.rating)].map((_, i) => (
                <Star key={i} className="w-5 h-5 fill-yellow-400 text-yellow-400" />
              ))}
            </div>
            <p className="text-gray-700 mb-6 leading-relaxed">{testimonial.content}</p>
            <div className="flex items-center gap-3">
              <div className="relative w-12 h-12 rounded-full overflow-hidden">
                <Image
                  src={testimonial.image}
                  alt={testimonial.name}
                  fill
                  className="object-cover"
                  sizes="48px"
                />
              </div>
              <div>
                <div className="font-semibold text-gray-900">{testimonial.name}</div>
                <div className="text-sm text-gray-500">{testimonial.role}</div>
              </div>
            </div>
          </CardContent>
        </Card>
      </motion.div>
    </motion.div>
  )
}

// Gallery Section Component
function GallerySection() {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-100px" })

  const galleryImages = [
    {
      src: "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=600&q=80",
      title: "עיצוב מקצועי",
      description: "חנויות מעוצבות ומקצועיות",
    },
    {
      src: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=600&q=80",
      title: "ניהול קל",
      description: "ממשק ניהול אינטואיטיבי",
    },
    {
      src: "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=600&q=80",
      title: "מוצרים מרשימים",
      description: "הצגת מוצרים מקצועית",
    },
    {
      src: "https://images.unsplash.com/photo-1556740758-90de374c12ad?w=600&q=80",
      title: "מכירות מוצלחות",
      description: "עקוב אחר המכירות שלך",
    },
  ]

  return (
    <section className="py-20 sm:py-32 bg-white">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <motion.div
          ref={ref}
          initial="hidden"
          animate={isInView ? "visible" : "hidden"}
          variants={{
            hidden: { opacity: 0 },
            visible: {
              opacity: 1,
              transition: {
                staggerChildren: 0.1,
                delayChildren: 0.2,
              },
            },
          }}
          className="mx-auto max-w-2xl text-center mb-16"
        >
          <motion.h2
            variants={{
              hidden: { opacity: 0, y: 30 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6 } },
            }}
            className="text-4xl font-bold sm:text-5xl mb-4"
            style={{
              background: "linear-gradient(to left, #93f0e1, #6374c5)",
              WebkitBackgroundClip: "text",
              WebkitTextFillColor: "transparent",
              backgroundClip: "text",
            }}
          >
            דוגמאות מחנויות שלנו
          </motion.h2>
          <motion.p
            variants={{
              hidden: { opacity: 0, y: 20 },
              visible: { opacity: 1, y: 0, transition: { duration: 0.6, delay: 0.1 } },
            }}
            className="text-lg text-gray-600"
          >
            ראה איך הלקוחות שלנו משתמשים ב-Quick Shop
          </motion.p>
        </motion.div>

        <div className="mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-6">
          {galleryImages.map((item, index) => (
            <GalleryCard key={index} item={item} index={index} isInView={isInView} />
          ))}
        </div>
      </div>
    </section>
  )
}

function GalleryCard({
  item,
  index,
  isInView,
}: {
  item: { src: string; title: string; description: string }
  index: number
  isInView: boolean
}) {
  const ref = useRef(null)
  const cardInView = useInView(ref, { once: true, margin: "-50px" })

  return (
    <motion.div
      ref={ref}
      initial="hidden"
      animate={cardInView ? "visible" : "hidden"}
      variants={{
        hidden: { opacity: 0, scale: 0.9 },
        visible: {
          opacity: 1,
          scale: 1,
          transition: {
            duration: 0.6,
            delay: index * 0.1,
          },
        },
      }}
    >
      <motion.div
        whileHover={{ scale: 1.02 }}
        transition={{ duration: 0.3 }}
        className="relative h-80 rounded-2xl overflow-hidden shadow-lg group"
      >
        <Image
          src={item.src}
          alt={item.title}
          fill
          className="object-cover transition-transform duration-500 group-hover:scale-110"
          sizes="(max-width: 768px) 100vw, 50vw"
        />
        <div className="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent" />
        <div className="absolute bottom-0 left-0 right-0 p-6 text-white">
          <h3 className="text-xl font-bold mb-2">{item.title}</h3>
          <p className="text-white/90">{item.description}</p>
        </div>
      </motion.div>
    </motion.div>
  )
}

// Footer Component
function Footer() {
  return (
    <footer className="border-t bg-white py-12">
      <div className="container mx-auto px-4 sm:px-6 lg:px-8">
        <div className="grid grid-cols-1 gap-8 md:grid-cols-4">
          <div>
            <h3 className="text-xl font-pacifico prodify-gradient-text mb-4">Quick Shop</h3>
            <p className="text-sm text-gray-600">
              פלטפורמה מקצועית ליצירה וניהול חנויות אונליין
            </p>
          </div>
          <div>
            <h4 className="mb-4 font-semibold text-gray-900">מוצר</h4>
            <ul className="space-y-2 text-sm text-gray-600">
              <li>
                <Link href="#" className="hover:text-purple-600">
                  תכונות
                </Link>
              </li>
              <li>
                <Link href="#" className="hover:text-purple-600">
                  תמחור
                </Link>
              </li>
              <li>
                <Link href="#" className="hover:text-purple-600">
                  דמו
                </Link>
              </li>
            </ul>
          </div>
          <div>
            <h4 className="mb-4 font-semibold text-gray-900">חברה</h4>
            <ul className="space-y-2 text-sm text-gray-600">
              <li>
                <Link href="#" className="hover:text-purple-600">
                  אודותינו
                </Link>
              </li>
              <li>
                <Link href="#" className="hover:text-purple-600">
                  בלוג
                </Link>
              </li>
              <li>
                <Link href="#" className="hover:text-purple-600">
                  קריירה
                </Link>
              </li>
            </ul>
          </div>
          <div>
            <h4 className="mb-4 font-semibold text-gray-900">תמיכה</h4>
            <ul className="space-y-2 text-sm text-gray-600">
              <li>
                <Link href="#" className="hover:text-purple-600">
                  עזרה
                </Link>
              </li>
              <li>
                <Link href="#" className="hover:text-purple-600">
                  צור קשר
                </Link>
              </li>
              <li>
                <Link href="#" className="hover:text-purple-600">
                  מדיניות פרטיות
                </Link>
              </li>
            </ul>
          </div>
        </div>
        <div className="mt-12 border-t pt-8 text-center text-sm text-gray-600">
          <p>© {new Date().getFullYear()} Quick Shop. כל הזכויות שמורות.</p>
        </div>
      </div>
    </footer>
  )
}
