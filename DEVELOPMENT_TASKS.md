# רשימת משימות בפיתוח - Quick Shop CRM

## 📋 תכונות שצריכות פיתוח

### 🛍️ ניהול מוצרים

#### 1. שכפול מוצר
- **מיקום**: `app/products/page.tsx` (שורה 163)
- **סטטוס**: TODO - לא מיושם
- **תיאור**: תכונת שכפול מוצר עם אפשרות לשנות שם ומחיר
- **קוד נוכחי**: רק toast "בפיתוח"

#### 2. ייבוא מוצרים
- **מיקום**: `app/products/page.tsx`
- **סטטוס**: ✅ הושלם
- **תיאור**: ייבוא מוצרים מקובץ CSV/Excel
- **הערה**: UI מלא עם דיאלוג, ולידציה, ותוצאות

#### 3. ייצוא מוצרים
- **מיקום**: `app/products/page.tsx` (שורה 384)
- **סטטוס**: ❌ לא מיושם
- **תיאור**: ייצוא מוצרים לקובץ CSV/Excel
- **קוד נוכחי**: רק toast "בפיתוח"

---

### 💳 תשלומים ואינטגרציות

#### 4. אינטגרציה עם PayPlus לתשלומים
- **מיקום**: `app/api/storefront/[slug]/checkout/route.ts` (שורה 249)
- **סטטוס**: TODO - לא מיושם
- **תיאור**: יצירת תשלום דרך PayPlus API
- **קוד נוכחי**: רק placeholder URL

#### 5. חיבור PayPlus
- **מיקום**: `app/settings/page.tsx` (שורה 1190)
- **סטטוס**: נדרש חיבור
- **תיאור**: הגדרת אינטגרציה עם PayPlus

---

### 🎨 עיצוב והתאמה אישית

#### 6. עיצוב דף הבית
- **מיקום**: `components/CustomizeMenu.tsx` (שורה 153)
- **סטטוס**: TODO - לא מיושם
- **תיאור**: פתיחת עיצוב דף הבית מהתפריט
- **קוד נוכחי**: רק פותח את הדף בחלון חדש

---

### 🛒 עגלת קניות

#### 7. Cart Count API
- **מיקומים**:
  - `app/shop/[slug]/register/page.tsx` (שורה 70)
  - `app/shop/[slug]/login/page.tsx` (שורה 66)
  - `app/shop/[slug]/search/page.tsx` (שורה 95)
  - `app/shop/[slug]/account/page.tsx` (שורה 105)
- **סטטוס**: TODO - לא מיושם
- **תיאור**: API לספירת פריטים בעגלה

#### 8. Storefront Orders API
- **מיקום**: `app/shop/[slug]/account/page.tsx` (שורה 114)
- **סטטוס**: TODO - לא מיושם
- **תיאור**: API לקבלת הזמנות של הלקוח בפרונט

---

### 💰 הנחות וקופונים

#### 9. הנחת כמות (VOLUME_DISCOUNT)
- **מיקומים**:
  - `app/discounts/new/page.tsx` (שורה 508)
  - `app/discounts/[id]/edit/page.tsx` (שורה 428)
- **סטטוס**: בפיתוח
- **תיאור**: תמיכה מלאה בהנחת כמות - UI קיים אבל לא פונקציונלי

#### 10. בדיקת מוצרים ספציפיים בהנחות
- **מיקום**: `lib/discounts.ts` (שורות 88, 91)
- **סטטוס**: לא מיושם
- **תיאור**: בדיקה אם הנחה חלה על מוצרים/קטגוריות ספציפיים
- **קוד נוכחי**: תמיד מחזיר `true`

---

### 👥 ניהול משתמשים

#### 11. ספירת נתונים במחיקת משתמש
- **מיקום**: `app/api/users/[id]/route.ts` (שורות 135-137)
- **סטטוס**: TODO - לא מיושם
- **תיאור**: ספירת notifications, invitations, permissions במחיקת משתמש
- **קוד נוכחי**: מחזיר 0

---

### 📊 אנליטיקה ודוחות

#### 12. Analytics API
- **מיקום**: `app/analytics/page.tsx` (שורה 65)
- **סטטוס**: TODO - לא מיושם
- **תיאור**: API לאנליטיקה ודוחות

---

### 💰 Store Credit (אשראי בחנות)

#### 13. ניהול Store Credit
- **מיקום**: אין UI
- **סטטוס**: ❌ לא מיושם
- **תיאור**: יצירת אשראי ללקוח, ניהול יתרה, היסטוריית שימושים
- **מודל DB**: קיים ב-`prisma/schema.prisma` (StoreCredit, StoreCreditTransaction)
- **API**: צריך ליצור
- **UI**: צריך ליצור דף ניהול Store Credit

---

### 🔄 החזרים והחלפות (Returns)

#### 14. ניהול החזרים
- **מיקום**: אין UI
- **סטטוס**: ❌ לא מיושם
- **תיאור**: בקשות החזר, אישור/דחייה, יצירת החזר כספי, עדכון מלאי
- **מודל DB**: קיים ב-`prisma/schema.prisma` (Return)
- **API**: צריך ליצור
- **UI**: צריך ליצור דף ניהול החזרים (`/returns`)

---

### ✏️ Rich Text Editor

#### 15. Rich Text Editor למוצרים, דפים ובלוג
- **מיקומים**:
  - `app/products/new/page.tsx` - תיאור מוצר
  - `app/products/[id]/edit/page.tsx` - תיאור מוצר
  - `app/pages/new/page.tsx` - תוכן דף
  - `app/pages/[id]/edit/page.tsx` - תוכן דף
  - `app/blog/new/page.tsx` - תוכן פוסט
  - `app/blog/[id]/edit/page.tsx` - תוכן פוסט
- **סטטוס**: ❌ לא מיושם
- **תיאור**: Rich Text Editor מקצועי עם toolbar (Bold, Italic, רשימות, קישורים, תמונות)
- **קוד נוכחי**: רק Textarea בסיסי עם הערה "בעתיד יתווסף Rich Text Editor מקצועי"

---

### 👁️ תצוגה מקדימה במוצרים

#### 16. תצוגה מקדימה בעמודה ימנית
- **מיקום**: `app/products/new/page.tsx` ו-`app/products/[id]/edit/page.tsx`
- **סטטוס**: ⚠️ צריך לבדוק
- **תיאור**: לפי האפיון צריך להיות עמודה ימנית (30%) עם תצוגה מקדימה של המוצר + פעולות
- **הערה**: יש תצוגה מקדימה אבל צריך לבדוק אם זה לפי האפיון (עמודה שמאלית 70%, ימנית 30%)

---

### 🧹 ניקוי קוד (שרידי CRM)

**הערה**: הקוד מכיל התייחסויות למודלים של CRM שלא רלוונטיים למערכת e-commerce:
- Leads - לא נדרש (זה CRM, לא e-commerce)
- Tasks - לא נדרש
- Quotes - לא נדרש
- Payments - לא נדרש (יש Order במקום)
- Projects - לא נדרש

**קבצים שצריך לנקות**:
- `app/api/users/[id]/route.ts` - הסרת התייחסויות ל-Leads, Tasks, Automation
- `app/api/notifications/route.ts` - הסרת התייחסויות ל-Leads, Quotes, Payments, Projects
- `lib/notification-service.ts` - הסרת פונקציות ל-Leads, Quotes
- `lib/email.ts` - הסרת templates ל-Leads, Quotes
- `app/notifications/page.tsx` - הסרת navigation ל-Leads
- `components/NotificationsDrawer.tsx` - הסרת navigation ל-Leads

---

## 📝 הערות נוספות

### תכונות שצריך לבדוק אם מיושמות:

1. **וריאציות ואפשרויות במוצרים** - API קיים אבל צריך לבדוק אם UI מלא
2. **Rich Text Editor** - ❌ לא קיים (רק Textarea בסיסי) - ראה משימה #15
3. **תצוגה מקדימה במוצרים** - ⚠️ צריך לבדוק אם זה לפי האפיון (עמודה ימנית 30%) - ראה משימה #16
4. **עדכון סטטוס בהזמנות** - צריך לבדוק אם מלא
5. **שליחת אימייל מהזמנות** - צריך לבדוק אם יש
6. **הדפסת הזמנה** - צריך לבדוק אם יש
7. **היסטוריית שינויים בהזמנות** - צריך לבדוק אם יש
8. **היסטוריית הזמנות בלקוח** - צריך לבדוק אם מלא
9. **כתובות משלוח בלקוח** - צריך לבדוק אם יש
10. **תגיות לקוח** - צריך לבדוק אם יש
11. **Store Credit** - ❌ אין UI - ראה משימה #13
12. **Returns** - ❌ אין UI - ראה משימה #14

### תכונות שצריך לבדוק בפרונט:

1. **תמיכה בוריאציות בפרונט** - צריך לבדוק אם עובד
2. **תמיכה בהנחות ללקוחות רשומים בפרונט** - צריך לבדוק אם מיושם
3. **תמיכה ב-Gift Cards בפרונט** - צריך לבדוק אם מיושם
4. **תמיכה ב-Store Credits בפרונט** - צריך לבדוק אם מיושם
5. **תמיכה ב-Coupons בפרונט** - צריך לבדוק אם מיושם
6. **תמיכה ב-Discounts בפרונט** - צריך לבדוק אם מיושם

---

## 🎯 סיכום לפי עדיפות

### עדיפות גבוהה (תכונות בסיסיות):
1. שכפול מוצר
2. Cart Count API
3. Storefront Orders API
4. אינטגרציה עם PayPlus

### עדיפות בינונית (תכונות מתקדמות):
5. הנחת כמות (VOLUME_DISCOUNT)
6. בדיקת מוצרים ספציפיים בהנחות
7. עיצוב דף הבית
8. ייצוא מוצרים
9. Rich Text Editor
10. Store Credit UI
11. Returns UI

### עדיפות נמוכה (תכונות עתידיות):
12. Analytics API
13. ניקוי קוד - הסרת שרידי CRM (Leads, Tasks, Quotes, Projects)
14. תצוגה מקדימה במוצרים (בדיקה אם לפי האפיון)

---

## ✅ תכונות שכבר מיושמות (לצורך רישום):

1. ✅ **Onboarding Wizard** - אשף יצירת חנות (`app/onboarding/page.tsx`)
2. ✅ **Collections** - אוספי מוצרים (API + UI)
3. ✅ **Gift Cards** - כרטיסי מתנה (API + UI)
4. ✅ **Abandoned Carts** - עגלות נטושות (API + UI)
5. ✅ **Pages** - דפים סטטיים (API + UI)
6. ✅ **Navigation** - תפריט ניווט (API + UI)
7. ✅ **Reviews & Ratings** - ביקורות ודירוגים (API + UI)
8. ✅ **Wishlist** - רשימת משאלות (API + UI בפרונט)
9. ✅ **Blog System** - מערכת בלוג (API + UI)
10. ✅ **Tracking Pixels** - פיקסלים וקודי מעקב (API + UI)
11. ✅ **ייבוא מוצרים** - ייבוא CSV (UI מלא)

---

*רשימה זו עודכנה בתאריך: ${new Date().toLocaleDateString('he-IL')}*

